(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["apiShop-categorylist-main"],{"0e2f":function(t,a,e){"use strict";(function(t){var i=e("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("96cf");var n=i(e("3b8d")),s=e("00c9"),o={onReachBottom:function(){if(this.page=this.page+1,this.page>this.pagetotal)return!1;this.getAllData()},created:function(){},onUnload:function(){},mounted:function(){this.categoryId=this.$root.$mp.query.id,this.getAllData(!0),uni.removeStorageSync("s_cat_id")},data:function(){return{page:1,pagetotal:"",categoryId:"",s_cat_id:"",activeClass:"",order:"",type:"",nowIndex:0,goodsList:[],navData:[],currentNav:{},scrollLeft:0}},components:{},methods:{changeTab:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(a,e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.nowIndex=a,this.page=1,uni.setStorageSync("s_cat_id",e),t.next=5,(0,s.categorylistGoodsListApi)({cat_id:e,page:this.page});case 5:i=t.sent,this.goodsList=i.data.data,this.pagetotal=i.data.pagetotal,this.currentNav=i.data.currentNav,this.nowIndex>4&&(this.scrollLeft=60*this.nowIndex);case 10:case"end":return t.stop()}},t,this)}));function a(a,e){return t.apply(this,arguments)}return a}(),filterchangeTab:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(a){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.nowIndex=a,this.page=1,uni.getStorageSync("s_cat_id")?this.s_cat_id=uni.getStorageSync("s_cat_id"):this.s_cat_id=this.categoryId,1==a?(this.order="asc"==this.order?"desc":"asc",this.page=1,this.type="price",this.activeClass,this.activeClass=this.order+" active"):2==a&&(this.order="asc"==this.order?"desc":"asc",this.page=1,this.type="sales",this.activeClass=this.order+" active"),t.next=6,(0,s.categorylistGoodsListApi)({cat_id:this.s_cat_id,order:this.order,type:this.type,page:this.page});case 6:e=t.sent,this.goodsList=e.data.data,this.pagetotal=e.data.pagetotal,this.currentNav=e.data.currentNav,this.nowIndex>4&&(this.scrollLeft=60*this.nowIndex);case 11:case"end":return t.stop()}},t,this)}));function a(a){return t.apply(this,arguments)}return a}(),getAllData:function(){var a=(0,n.default)(regeneratorRuntime.mark(function a(e){var i,n,o,r,c;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=16;break}return a.next=3,(0,s.categorylistNavListApi)({cat_id:this.categoryId});case 3:for(i=a.sent,this.navData=i.data.navData,t.log(this.navData),this.currentNav=i.data.currentNav,n=0;n<this.navData.length;n++)o=this.navData[n].id,o==this.currentNav.id&&(this.nowIndex=n);return this.nowIndex>4?this.scrollLeft=60*this.nowIndex:this.scrollLeft=0,a.next=11,(0,s.categorylistGoodsListApi)({cat_id:this.categoryId,page:this.page});case 11:r=a.sent,this.goodsList=r.data.data,this.pagetotal=r.data.pagetotal,a.next=20;break;case 16:return a.next=18,(0,s.categorylistGoodsListApi)({cat_id:this.categoryId,page:this.page});case 18:c=a.sent,this.goodsList=this.goodsList.concat(c.data.data);case 20:case"end":return a.stop()}},a,this)}));function e(t){return a.apply(this,arguments)}return e}(),goodsDetail:function(a){t.log(a),uni.navigateTo({url:"/apiShop/goods/main?id="+a})}},computed:{}};a.default=o}).call(this,e("5a52")["default"])},3126:function(t,a,e){var i=e("e99b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("9e822170",i,!0,{sourceMap:!1,shadowMode:!1})},6195:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("cu-custom",{attrs:{bgColor:"bg-white",isBack:!0}},[e("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),e("template",{attrs:{slot:"content"},slot:"content"},[t._v("分类列表")])],2),e("div",{staticClass:"categoryList"},[e("v-uni-scroll-view",{staticClass:"head",attrs:{"scroll-x":"true","scroll-left":t.scrollLeft}},t._l(t.navData,function(a,i){return e("div",{key:i,class:[t.nowIndex==i?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i,a.id)}}},[t._v(t._s(a.name))])}),0),e("div",{staticClass:"info"},[e("p",[t._v(t._s(t.currentNav.name))]),e("p",[t._v(t._s(t.currentNav.front_desc))])]),e("div",{staticClass:"sortnav"},[e("div",{class:[0==t.nowIndex?"active":""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.filterchangeTab(0)}}},[t._v("综合")]),e("div",{staticClass:"price",class:[1==t.nowIndex?t.activeClass:""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.filterchangeTab(1)}}},[t._v("价格")]),e("div",{staticClass:"price",class:[2==t.nowIndex?t.activeClass:""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.filterchangeTab(2)}}},[t._v("销量")])]),null!=t.goodsList.length?e("div",{staticClass:"list"},t._l(t.goodsList,function(a,i){return e("div",{key:i,staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goodsDetail(a.id)}}},[e("img",{attrs:{src:a.list_pic_url,alt:""}}),e("div",{staticClass:"goods-name"},[e("div",{staticClass:"name"},[t._v(t._s(a.name))])]),e("p",{staticStyle:{"text-decoration":"line-through"}},[t._v("￥"+t._s(a.market_price))]),e("p",{staticClass:"price"},[t._v("￥"+t._s(a.retail_price))]),e("span",[t._v("已售："+t._s(a.virtual_sales))])])}),0):e("div",{staticClass:"none"},[t._v("数据库暂无数据...")])],1)],1)},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})},ae86:function(t,a,e){"use strict";e.r(a);var i=e("0e2f"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=n.a},dc75:function(t,a,e){"use strict";var i=e("3126"),n=e.n(i);n.a},e1eb:function(t,a,e){"use strict";e.r(a);var i=e("6195"),n=e("ae86");for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);e("dc75");var o=e("f0c5"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"a3dfdb9c",null);a["default"]=r.exports},e99b:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.categoryList[data-v-a3dfdb9c]{width:100%}.categoryList .head[data-v-a3dfdb9c]{width:100%;height:%?84?%;line-height:%?84?%;background:#fff;white-space:nowrap}.categoryList .head div[data-v-a3dfdb9c]{display:inline-block;padding:0 %?20?%;margin-left:%?20?%}.categoryList .head .active[data-v-a3dfdb9c]{color:#ab2b2b;height:100%;border-bottom:.02rem solid #ab2b2b;box-sizing:border-box}.categoryList .info[data-v-a3dfdb9c]{text-align:center;background:#fff;padding:%?30?%;margin-top:%?20?%;margin-bottom:%?5?%}.categoryList .info p[data-v-a3dfdb9c]:first-child{margin-bottom:%?18?%;font-size:%?30?%;color:#333}.categoryList .info p[data-v-a3dfdb9c]:nth-child(2){display:block;height:%?24?%;font-size:%?24?%;color:#999}.categoryList .sortnav[data-v-a3dfdb9c]{display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;width:100%;height:%?78?%;line-height:%?78?%}.categoryList .sortnav div[data-v-a3dfdb9c]{width:%?250?%;height:100%;text-align:center}.categoryList .sortnav .active[data-v-a3dfdb9c]{color:#b4282d}.categoryList .sortnav .price[data-v-a3dfdb9c]{background:url(https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/no.png) %?165?% 50% no-repeat;background-size:%?15?% %?21?%}.categoryList .sortnav .active.desc[data-v-a3dfdb9c]{background:url(https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/down.png) %?165?% 50% no-repeat;background-size:%?15?% %?21?%}.categoryList .sortnav .active.asc[data-v-a3dfdb9c]{background:url(https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/up.png) %?165?% 50% no-repeat;background-size:%?15?% %?21?%}.categoryList .list[data-v-a3dfdb9c]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap}.categoryList .list .item[data-v-a3dfdb9c]{width:%?372.5?%;margin-bottom:%?5?%;text-align:center;background:#fff;padding:%?15?% 0}.categoryList .list .item img[data-v-a3dfdb9c]{display:block;width:%?302?%;height:%?302?%;margin:0 auto}.categoryList .list .item .goods-name[data-v-a3dfdb9c]{height:%?72?%;display:-webkit-box;-webkit-box-orient:vertical;text-overflow:ellipsis;overflow:hidden;-webkit-line-clamp:2;line-clamp:2;line-height:%?36?%}.categoryList .list .item .goods-name .name[data-v-a3dfdb9c]{margin:%?30?% 0 %?22?% 0;text-align:center;padding:0 %?20?%;font-size:%?24?%;text-overflow:ellipsis;overflow:hidden;white-space:normal;-webkit-line-clamp:2;line-clamp:2;line-height:%?36?%}.categoryList .list .item .goods-name .name .promotion_type[data-v-a3dfdb9c]{margin-right:3px;background-color:#b4282d;color:#fff}.categoryList .list .item .price[data-v-a3dfdb9c]{text-align:center;font-size:%?30?%;color:#b4282d}.categoryList .none[data-v-a3dfdb9c]{text-align:center;margin-top:%?100?%;color:#999}',""])}}]);